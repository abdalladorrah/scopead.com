<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Yemeni Village | Marketing Dashboard</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Inter:wght@400;600;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="lenci.css">
    <link rel="stylesheet" href="premium.css">
</head>

<body>

    <!-- Nav injected by JS -->

    <div class="container">

        <div id="content-ar" class="visible">
            <header class="hero">
                <h1 id="hero-title-ar"></h1>
                <div class="tagline" id="hero-tagline-ar"></div>
            </header>

            <section class="countdown-container">
                <h3 id="countdown-title-ar"></h3>
                <div class="countdown" id="countdown">Loading...</div>
                <p id="countdown-desc-ar" style="color: #ffffff;"></p>
            </section>

            <div class="dashboard-grid" id="metrics-grid-ar">
                <!-- Injected dynamically -->
            </div>

            <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;"
                id="tickets-grid-ar">
                <!-- Injected dynamically -->
            </div>

            <div class="section-title" style="margin-top: 40px; text-align: center; justify-content: center;"
                id="quick-access-title-ar"></div>
            <div class="quick-access-grid" id="quick-access-grid-ar">
                <!-- Injected dynamically -->
            </div>
        </div>

        <div id="content-en" class="hidden">
            <header class="hero">
                <h1 id="hero-title-en"></h1>
                <div class="tagline" id="hero-tagline-en"></div>
            </header>

            <section class="countdown-container">
                <h3 id="countdown-title-en"></h3>
                <div class="countdown" id="countdown-en">Loading...</div>
                <p id="countdown-desc-en" style="color: #ffffff;"></p>
            </section>

            <div class="dashboard-grid" id="metrics-grid-en">
                <!-- Injected dynamically -->
            </div>

            <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;"
                id="tickets-grid-en">
                <!-- Injected dynamically -->
            </div>

            <div class="section-title" style="margin-top: 40px; text-align: center; justify-content: center;"
                id="quick-access-title-en"></div>
            <div class="quick-access-grid" id="quick-access-grid-en">
                <!-- Injected dynamically -->
            </div>
        </div>

    </div>

    <footer>
        <p id="footer-text"></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="js/vanta_bg.js"></script>
    <script src="js/core.js"></script>
    <script src="js/data_general.js"></script>
    <script src="js/data_dashboard.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/components.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dashboard = projectData.dashboard;
            const general = projectData.general;

            // Footer
            document.getElementById('footer-text').textContent = general.footerText;

            // Common Render Function
            function renderDashboard(lang) {
                const suffix = lang === 'ar' ? '-ar' : '-en';

                document.getElementById('hero-title' + suffix).textContent = dashboard.hero.title[lang];
                document.getElementById('hero-tagline' + suffix).textContent = dashboard.hero.tagline[lang];
                document.getElementById('countdown-title' + suffix).textContent = dashboard.countdown.title[lang];
                document.getElementById('countdown-desc' + suffix).textContent = dashboard.countdown.description[lang];

                const metricsGrid = document.getElementById('metrics-grid' + suffix);
                dashboard.metrics.main.forEach(metric => {
                    const cardStyle = metric.special ? 'style="background: rgba(16, 185, 129, 0.1); border-color: rgba(16, 185, 129, 0.5);"' : '';
                    const valueStyle = metric.special ? 'style="color: #10b981; font-size: 1.5rem;"' : '';
                    const labelStyle = metric.special ? 'style="color: #059669;"' : '';
                    metricsGrid.innerHTML += `
                        <div class="metric-card" ${cardStyle}>
                            <div class="metric-value" ${valueStyle}>${metric.value[lang]}</div>
                            <div class="metric-label" ${labelStyle}>${metric.label[lang]}</div>
                        </div>`;
                });

                const ticketsGrid = document.getElementById('tickets-grid' + suffix);
                dashboard.metrics.tickets.forEach(ticket => {
                    ticketsGrid.innerHTML += `
                        <div class="metric-card" style="padding: 15px;">
                            <div style="font-weight: bold; color: var(--secondary-color);">${ticket.label[lang]}</div>
                            <div style="font-size: 1.2rem; margin-top: 5px;">${ticket.value[lang]}</div>
                        </div>`;
                });

                document.getElementById('quick-access-title' + suffix).textContent = dashboard.quickAccess.title[lang];
                const quickAccessGrid = document.getElementById('quick-access-grid' + suffix);
                dashboard.quickAccess.items.forEach(item => {
                    quickAccessGrid.innerHTML += `
                        <a href="${item.href}" class="access-card">
                            <span class="access-icon">${item.icon}</span>
                            <span class="access-title">${item.title[lang]}</span>
                            <span class="access-desc">${item.desc[lang]}</span>
                        </a>`;
                });
            }

            renderDashboard('ar');
            renderDashboard('en');

            // Countdown Timer
            const launchDate = new Date(dashboard.countdown.targetDate);
            function updateCountdown() {
                const now = new Date();
                const diff = launchDate - now;
                if (diff <= 0) {
                    document.querySelectorAll('.countdown').forEach(el => el.innerText = "00d 00h 00m");
                    return;
                }
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const text = `${days}d ${hours}h ${minutes}m`;
                document.getElementById('countdown').innerText = text;
                if (document.getElementById('countdown-en')) document.getElementById('countdown-en').innerText = text;
            }
            setInterval(updateCountdown, 60000);
            updateCountdown();
        });
    </script>
</body>

</html>